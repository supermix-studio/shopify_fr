"use strict";var appstleInit=function(){var e,n,t,i,D=document.getElementsByTagName("head")[0],P=(new Date).getTime();if("undefined"==typeof jQuery&&(null===(e=RS)||void 0===e||null===(n=e.Config)||void 0===n||!n.disableLoadingJquery)){var l=document.createElement("script");l.src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js",l.type="text/javascript",D.appendChild(l)}if("undefined"==typeof Mustache){var a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.js",a.type="text/javascript",D.appendChild(a)}var R=new URLSearchParams(window.location.search);R.get("variant");if(function e(n){window.jQuery&&window.Mustache&&window.Shopify?n(jQuery):window.setTimeout(function(){e(n)},20)}(function(X){!function(){var e,n,t,i,l,a,o,s,p,r,c=(new Date).getTime()-P;function d(o,h,J){if(window.Shopify){RS.Config=Object.assign(RS.Config,"undefined"!=typeof _RSConfig&&null!==_RSConfig?_RSConfig:{}),window.RSConfig=RS.Config;var M=RSConfig.product;o&&(M=o),function(e){if(!e)return;for(var n=e.variants,t={},i={},l=0;l<n.length;l++){var a=n[l];t[a.title]=Object.assign({},a),i[a.id]=Object.assign({},a)}RSConfig.variantsByTitle=t,RSConfig.variantsById=i}(M);var w,S=RSConfig.variantsByTitle,C=RSConfig.variantsById,A=JSON.parse(RS.Config.labels);if(function e(n){window.jQuery?n():setTimeout(function(){e(n)},50)}(function(){if(!0===T()||Q()){var e,n,u,_,f,g,v,y=p(),m=jQuery(y).first();h&&(m=h).addClass("appstle_stand_alone_selector_processed");var b="#appstle-subscription-widget-placeholder";m.parents(null===(e=RSConfig)||void 0===e?void 0:e.widgetParentSelector).find(null===(n=RSConfig)||void 0===n?void 0:n.quantitySelector).on("change, click",function(){setTimeout(R,100)}),X(document).on("click","#appstle_subscription_widget".concat(J," [data-appstle-icon]"),function(){X(this).toggleClass("appstle-tooltip-show")});var l=function(){try{m=jQuery(y).first(),h&&(m=h);var e=(s=m,p=M,d=E("variant"),0<s.closest('form[action$="/cart/add"]').find("[name=id]").length&&s.closest('form[action$="/cart/add"]').find("[name=id]")[0].value?(d=s.closest('form[action$="/cart/add"]').find("[name=id]")[0].value,C[d]):d?C[d]:Object.values(C).some(function(e){var n;return(null==e?void 0:e.title)==(null===(n=X("form select[name='options[Bundle]']"))||void 0===n?void 0:n.val())})?Object.values(C).find(function(e){return(null==e?void 0:e.title)==X("select[name='options[Bundle]']").val()}):(r=[],null!=(c=s.closest('form[action$="/cart/add"]').find("select.single-option-selector"))&&null!=c.selectedIndex&&-1!==c.selectedIndex?r.push(c[c.selectedIndex].value):r.push(void 0),S[r.join(" / ")]||p.variants[0]));if(e){var n,t=e.id;if(_&&_===t)return;if(M.selling_plan_groups&&0<M.selling_plan_groups.length&&(n=M.selling_plan_groups.filter(function(e){return"appstle"===e.app_id})),n&&0<n.length&&RS.Config.widgetEnabled){var i;w=e;var l,a=RS.Config.selectors.atcButtonPlacement;if(f?(jQuery(".appstle_subscription_wrapper input[type=radio], .appstle_subscription_wrapper select").off("change"),f.children().remove(),j(f,e),v?f.insertBefore(v):f.appendTo(g)):(g=jQuery('<div class="appstle_sub_widget appstle-hidden" id="appstle_subscription_widget'+J+'"></div>'),u=RS.Config.purchaseOptionsText?jQuery('<div class="appstle_widget_title">'+RS.Config.purchaseOptionsText+"</div>"):"",f=jQuery('<div class="appstle_subscription_wrapper"></div>'),v=RS.Config.tooltipTitle&&RS.Config.showTooltip&&!RS.Config.showStaticTooltip?jQuery('<div data-appstle-icon="" class="appstle_tooltip_wrapper">\n                        <svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" class="tooltip_subscription_svg">\n                          <path d="M45 0C20.1827 0 0 20.1827 0 45C0 69.8173 20.1827 90 45 90C69.8173 90 90 69.8174 90 45C90.0056 44.6025 89.9322 44.2078 89.7839 43.8389C89.6357 43.47 89.4156 43.1342 89.1365 42.8511C88.8573 42.568 88.5247 42.3432 88.158 42.1897C87.7912 42.0363 87.3976 41.9573 87 41.9573C86.6024 41.9573 86.2088 42.0363 85.842 42.1897C85.4753 42.3432 85.1427 42.568 84.8635 42.8511C84.5844 43.1342 84.3643 43.47 84.2161 43.8389C84.0678 44.2078 83.9944 44.6025 84 45C84 66.5748 66.5747 84 45 84C23.4253 84 6 66.5747 6 45C6 23.4254 23.4253 6 45 6C56.1538 6 66.3012 10.5882 73.4375 18H65.4062C65.0087 17.9944 64.614 18.0678 64.2451 18.2161C63.8762 18.3643 63.5405 18.5844 63.2573 18.8635C62.9742 19.1427 62.7494 19.4753 62.596 19.842C62.4425 20.2088 62.3635 20.6024 62.3635 21C62.3635 21.3976 62.4425 21.7912 62.596 22.158C62.7494 22.5247 62.9742 22.8573 63.2573 23.1365C63.5405 23.4156 63.8762 23.6357 64.2451 23.7839C64.614 23.9322 65.0087 24.0056 65.4062 24H79.8125C80.6081 23.9999 81.3711 23.6838 81.9337 23.1212C82.4963 22.5586 82.8124 21.7956 82.8125 21V6.59375C82.821 6.18925 82.7476 5.78722 82.5966 5.41183C82.4457 5.03644 82.2205 4.69545 81.9344 4.40936C81.6483 4.12327 81.3073 3.898 80.9319 3.7471C80.5565 3.5962 80.1545 3.52277 79.75 3.53125C79.356 3.53941 78.9675 3.62511 78.6067 3.78344C78.2458 3.94177 77.9197 4.16963 77.6469 4.45402C77.3741 4.73841 77.16 5.07375 77.0168 5.44089C76.8737 5.80803 76.8042 6.19977 76.8125 6.59375V12.875C68.6156 4.86282 57.3081 0 45 0ZM43.75 20.75C43.356 20.7582 42.9675 20.8439 42.6067 21.0022C42.2458 21.1605 41.9197 21.3884 41.6469 21.6728C41.3741 21.9572 41.16 22.2925 41.0168 22.6596C40.8737 23.0268 40.8042 23.4185 40.8125 23.8125V47.375C40.8116 47.7693 40.8883 48.16 41.0385 48.5246C41.1886 48.8892 41.4092 49.2207 41.6875 49.5L54.0938 61.9375C54.6573 62.5011 55.4217 62.8177 56.2188 62.8177C57.0158 62.8177 57.7802 62.5011 58.3438 61.9375C58.9073 61.3739 59.224 60.6095 59.224 59.8125C59.224 59.0155 58.9073 58.2511 58.3438 57.6875L46.8125 46.1875V23.8125C46.821 23.408 46.7476 23.006 46.5966 22.6306C46.4457 22.2552 46.2205 21.9142 45.9344 21.6281C45.6483 21.342 45.3073 21.1168 44.9319 20.9658C44.5565 20.8149 44.1545 20.7415 43.75 20.75Z">\n                          </path>\n                        </svg>\n                        <span class="appstle_tooltip_title">'.concat(RS.Config.tooltipTitle,'</span>\n                        <div class="appstle_tooltip">\n                          <div class="appstle_tooltip_content">\n                              ').concat(RS.Config.tooltipDesctiption,"\n                          </div>\n                          ").concat(RS.Config.showAppstleLink?'<div class="appstle_tooltip_appstle">\n                            <a href="https://appstle.com/" class="appstle_link" target="_blank">\n                              POWERED BY APPSTLE\n                            </a>\n                          </div>':"<span></span>","\n                                        </div>\n                                      </div>")):RS.Config.showTooltip&&RS.Config.showStaticTooltip&&jQuery('<div class="appstle_tooltip_wrapper_static">'.concat(RS.Config.tooltipDesctiption,"</div>")),u&&u.appendTo(g),j(f,e),f.appendTo(g),v&&v.appendTo(g)),(null===(i=M)||void 0===i||!i.available)&&"false"==(null===(l=RS.Config)||void 0===l?void 0:l.widgetEnabledOnSoldVariant))return;jQuery(b).length&&(m=jQuery(b).first()),"BEFORE"===a?g.insertBefore(m):"AFTER"===a?g.insertAfter(m):"FIRST_CHILD"===a?g.prependTo(m):"LAST_CHILD"===a&&g.appendTo(m),jQuery("#appstle_subscription_widget"+J).find(".appstle_subscription_wrapper input[type=radio]").on("change",function(){var e=jQuery("#appstle_subscription_widget"+J+" .appstle_subscribe_option"),n=jQuery("#appstle_subscription_widget"+J+" .appstleLoyaltyTable");0<e.length&&(V()?(e.removeClass("appstle_hide_subsOption"),jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option.appstle_include_dropdown").addClass("appstle_selected_background"),jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option").first().removeClass("appstle_selected_background"),n.show(),O("SellingPlanSelected")):(jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option.appstle_include_dropdown").removeClass("appstle_selected_background"),jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option").first().addClass("appstle_selected_background"),e.addClass("appstle_hide_subsOption"),n.hide(),O("SellingPlanRemoved"))),R()}),null!==(o=RSConfig)&&void 0!==o&&o.switchRadioButtonWidget?jQuery("#appstle_subscription_widget"+J+" .appstle_subscribe_option input").on("change",function(e){R(),x(P())}):jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper select").on("change",function(e){R(),x(P())}),x(P()),R(),jQuery(document).trigger("appstle_widget_updated")}_=t}}catch(e){console.log(e)}var o,s,p,r,c,d};setTimeout(function(){l(),function(){if(0!==jQuery("#appstle_subscription_widget"+J).length){var t=k(),e=jQuery("#appstle_subscription_widget"+J).closest('form[action$="/cart/add"]');if((0<e.find("input[value="+t.variant+"]").length||0<e.find("option[value="+t.variant+"]").length)&&0<e.find("option[value="+t.selling_plan+"]").length&&t.selling_plan){var n,i,l=jQuery("#appstle_subscription_widget"+J+" #appstle_selling_plan_label_2"+J);l[0].checked=!0;var a=null;a=null!==(n=RSConfig)&&void 0!==n&&n.switchRadioButtonWidget?jQuery("#appstle_subscription_widget"+J+" .appstle_subscribe_option"):jQuery("#appstle_subscription_widget"+J+" select#appstle_selling_plan"+J),null!==(i=RSConfig)&&void 0!==i&&i.switchRadioButtonWidget?a.find("input[type=radio]").each(function(e,n){X(n).removeAttr("checked"),jQuery(n).attr("value")===t.selling_plan&&X(n).attr("checked",!0)}):a.find("option").each(function(e,n){jQuery(n).attr("value")===t.selling_plan&&(a[0].selectedIndex=e)}),l.change(),a.change()}}}()},13),h?(h.closest('form[action$="/cart/add"]').on("change",function(){var e,n;setTimeout(function(){var e,n,t,i;l(),d(),null!==(e=window)&&void 0!==e&&e._transcy&&(null===(n=window)||void 0===n||null===(t=n._transcy)||void 0===t||null===(i=t.methods)||void 0===i||i.reConvertCurrency())},0<parseInt(null===(e=RSConfig)||void 0===e?void 0:e.scriptLoadDelay)?parseInt(null===(n=RSConfig)||void 0===n?void 0:n.scriptLoadDelay):30)}),h.closest('form[action$="/cart/add"]').on("click",function(){var e,n;setTimeout(function(){var e,n,t,i;l(),d(),null!==(e=window)&&void 0!==e&&e._transcy&&(null===(n=window)||void 0===n||null===(t=n._transcy)||void 0===t||null===(i=t.methods)||void 0===i||i.reConvertCurrency())},0<parseInt(null===(e=RSConfig)||void 0===e?void 0:e.scriptLoadDelay)?parseInt(null===(n=RSConfig)||void 0===n?void 0:n.scriptLoadDelay):30)})):(jQuery(document).on("change",function(){var e,n;setTimeout(function(){var e,n,t,i;l(),d(),null!==(e=window)&&void 0!==e&&e._transcy&&(null===(n=window)||void 0===n||null===(t=n._transcy)||void 0===t||null===(i=t.methods)||void 0===i||i.reConvertCurrency())},0<parseInt(null===(e=RSConfig)||void 0===e?void 0:e.scriptLoadDelay)?parseInt(null===(n=RSConfig)||void 0===n?void 0:n.scriptLoadDelay):30)}),jQuery(document).on("click",function(){var e,n;setTimeout(function(){var e,n,t,i;l(),d(),null!==(e=window)&&void 0!==e&&e._transcy&&(null===(n=window)||void 0===n||null===(t=n._transcy)||void 0===t||null===(i=t.methods)||void 0===i||i.reConvertCurrency())},0<parseInt(null===(e=RSConfig)||void 0===e?void 0:e.scriptLoadDelay)?parseInt(null===(n=RSConfig)||void 0===n?void 0:n.scriptLoadDelay):30)}))}if(!0===("/account"===window.location.pathname||(null===(s=window.location.pathname)||void 0===s?void 0:s.endsWith("/account")))){var t=RSConfig.selectors.subscriptionLinkSelector,i=RSConfig.selectors.subscriptionLinkPlacement,a=RSConfig.manageSubscriptionBtnFormat;"after"===i.toLowerCase()?jQuery(t).after(a):"first_child"===i.toLowerCase()?jQuery(t).first(a):"last_child"===i.toLowerCase()?jQuery(t).last(a):jQuery(t).before(a),o=RSConfig.css,jQuery("<style>".concat(o.customCSS,"</style>")).appendTo(jQuery("head"))}var o,s}),jQuery(RSConfig.priceSelector).length){var e=document.querySelector(RSConfig.priceSelector),n={attributes:!0,childList:!0,subtree:!0},t=new MutationObserver(function(e,n){jQuery(RSConfig.priceSelector+'[data-appstle-price-modified="true"]').length||r()});e&&n&&t.observe(e,n)}jQuery(".appstle-hidden").removeClass("appstle-hidden")}function L(e,n){return C[e].selling_plan_allocations.find(function(e){return e.selling_plan_id===n})}function l(e,n){return e.filter(function(e){return-1!=n.indexOf(e)})}function _(e){var n=__st.cid,t=RSConfig.customer_tags||[],i=!0;if(!n&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]&&RSConfig.memberOnlySellingPlansJson[e].enableMemberInclusiveTag&&(i=!1),n&&RSConfig.nonMemberOnlySellingPlansJson&&RSConfig.nonMemberOnlySellingPlansJson[e]&&(i=!1),i&&n&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]){if(RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags&&RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.trim())i=0<l(t,RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.split(",")).length;if(RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags&&RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.trim())i=!(0<l(t,RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.split(",")).length)}return i}function f(e){var n=e.totalPrice==e.formattedPrice?{sellingPlanName:e.name,sellingPlanPrice:'<span class="transcy-money">'.concat(e.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(e.secondFormattedPrice,"</span>"),discountText:null==e?void 0:e.discountText,totalPrice:'<span class="transcy-money">'.concat(null==e?void 0:e.totalPrice,"</span>")}:{sellingPlanName:e.name,totalPrice:'<span class="transcy-money">'.concat(null==e?void 0:e.totalPrice,"</span>"),sellingPlanPrice:'<span class="transcy-money">'.concat(e.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(e.secondFormattedPrice,"</span>"),discountText:e.discountText};return G(Mustache.render(RS.Config.sellingPlanTitleText,n))}function p(){var e=RSConfig.atcButtonSelector||"form[action$='/cart/add'] [type='submit']",n={productId:M.id};return e=Mustache.render(e,n)}function j(e,n){var t;M.requires_selling_plan||jQuery('<div class="appstle_subscription_wrapper_option '.concat(M.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault?"":"appstle_selected_background",'">\n              <input type="radio" ').concat(RS.Config.subscriptionOptionSelectedByDefault?"":"checked",' id="appstle_selling_plan_label_1').concat(J,'" name="selling_plan" value="" ').concat(RS.Config.formMappingAttributeName&&RS.Config.formMappingAttributeSelector&&jQuery(RS.Config.formMappingAttributeSelector).length&&jQuery(RS.Config.formMappingAttributeSelector).attr("id")?"".concat(RS.Config.formMappingAttributeName,"=").concat(jQuery(RS.Config.formMappingAttributeSelector).attr("id")):"",'>\n          <label for="appstle_selling_plan_label_1').concat(J,'" class="appstle_radio_label">\n            <span class="appstle_circle"><span class="appstle_dot"></span></span>\n              <span class="appstle_one_time_text">').concat(RS.Config.oneTimePurchaseText,'</span>\n             </label>\n          <span class="appstle_subscription_amount transcy-money"></span>\n         </div>')).appendTo(e);var i,l,a,o=jQuery('<div class="appstle_subscription_wrapper_option appstle_include_dropdown '.concat(M.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault?"appstle_selected_background":"",'">\n            <div class="appstle_subscription_radio_wrapper"> \n            <input type="radio" id="appstle_selling_plan_label_2').concat(J,'" name="selling_plan" value="Subscribe and save" ').concat(M.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault?"checked":""," ").concat(RS.Config.formMappingAttributeName&&RS.Config.formMappingAttributeSelector&&jQuery(RS.Config.formMappingAttributeSelector).length&&jQuery(RS.Config.formMappingAttributeSelector).attr("id")?"".concat(RS.Config.formMappingAttributeName,"=").concat(jQuery(RS.Config.formMappingAttributeSelector).attr("id")):"",'> \n                <label for="appstle_selling_plan_label_2').concat(J,'" class="appstle_radio_label">\n                    <span class="appstle_circle"><span class="appstle_dot"></span></span>\n                    <span class="appstle_subscribe_save_text">').concat(RS.Config.subscriptionOptionText,'</span>\n                </label>\n                <div class="appstle_subscription_amount_wrapper">\n                  <span class="appstle_subscription_amount transcy-money"></span>\n                  <span class="appstle_subscription_compare_amount transcy-money"></span>\n                </div>\n            </div>\n            <div class="appstle_subscribe_option ').concat(M.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault?"":"appstle_hide_subsOption",'">\n                ').concat(RS.Config.sellingPlanSelectTitle?'<label for="appstle_selling_plan'.concat(J,'" class="appstle_select_label">').concat(RS.Config.sellingPlanSelectTitle,"</label>"):"","\n                ").concat(null!==(t=RSConfig)&&void 0!==t&&t.switchRadioButtonWidget?'<div class="appstleRadioSellingPlanWrapper"></div>':' <select id="appstle_selling_plan'.concat(J,'" class="appstle_select">\n                </select><div class="appstleSelectedSellingPlanOptionDescription"></div>'),"\n\n            </div>\n        </div>")),s=function(l,c){var d=[];if(jQuery.each(M.selling_plan_groups,function(e,n){"appstle"===n.app_id&&jQuery.each(n.selling_plans,function(e,n){if(_(n.id)){var t=L(c.id,n.id);if(!t)return;var i,l=t.per_delivery_price,a=q(null==t?void 0:t.price),o=q(l),s=null,p=null;p=t&&t.price_adjustments&&2===t.price_adjustments.length?q(s=t.price_adjustments[1].price):(s=l,o);var r=null==n?void 0:n.price_adjustments[0];i="percentage"!==(null==r?void 0:r.value_type)?q(null==r?void 0:r.value):(null==r?void 0:r.value)+"%",d.push({name:n.name,description:n.description,id:n.id,formattedPrice:o,price:l,totalPrice:a,secondPrice:s,secondFormattedPrice:p,discountText:i})}})}),0<d.length){var e;if(d.length<2){var n,t;jQuery(l).find(".appstle_subscribe_option").children().hide();var i,a,o,s,p,r=f(d[0]);jQuery('<div class="appstle_single_option_text">'.concat(r,"</div>")).appendTo(l.find(".appstle_subscribe_option")),null!==(n=d[0])&&void 0!==n&&n.description&&null!==(t=d[0])&&void 0!==t&&t.description.includes("{{sellingPlanName}}")?jQuery('<div class="appstleSellingPlanDescription">'.concat(null===(i=d[0])||void 0===i?void 0:null===(a=i.description)||void 0===a?void 0:a.replace("{{sellingPlanName}}",null===(o=d[0])||void 0===o?void 0:o.name),"</div>")).appendTo(l.find(".appstle_subscribe_option")):null!==(s=d[0])&&void 0!==s&&s.description&&jQuery('<div class="appstleSellingPlanDescription">'.concat(null===(p=d[0])||void 0===p?void 0:p.description,"</div>")).appendTo(l.find(".appstle_subscribe_option"))}null!==(e=RSConfig)&&void 0!==e&&e.sortByDefaultSequence||d.sort(function(e,n){return e.price-n.price}),jQuery(d).each(function(e,n){var t,i=f(n);null!==(t=RSConfig)&&void 0!==t&&t.switchRadioButtonWidget?jQuery('<div>\n                  <input type="radio" id="'.concat(n.id,'" value="').concat(n.id,'" ').concat(e?"":"checked",' name="selling_plan_radio" style="display: inline;"></input>\n                  <label for="').concat(n.id,'" style="margin-top: 10px; ').concat(d.length<2?"display: none;":"",'">\n                    <span class="sellingplan">').concat(i,"</span>\n                  </label>\n                  ").concat(null!=n&&n.description&&null!=n&&n.description.includes("{{sellingPlanName}}")?'<div class="appstleSellingPlanDescription">'.concat(null==n?void 0:n.description.replace("{{sellingPlanName}}",null==n?void 0:n.name),"</div>"):null!=n&&n.description?'<div class="appstleSellingPlanDescription">'.concat(null==n?void 0:n.description,"</div>"):"","\n                </div>")).appendTo(l.find(".appstleRadioSellingPlanWrapper")):jQuery("<option />",{value:n.id,html:i}).appendTo(l.find("select"))})}else try{jQuery("#appstle_subscription_widget"+J).remove();var u=setTimeout(function(){jQuery("#appstle_subscription_widget"+J).remove(),clearTimeout(u)})}catch(e){}return d}(o,n);s&&0<s.length&&(null!==(i=RSConfig)&&void 0!==i&&i.showSubOptionBeforeOneTime?o.prependTo(e):o.appendTo(e));l=J,a=RSConfig.css,jQuery("<style>\n\n     #appstle_subscription_widget".concat(l,"{\n            width: 100%;\n            text-align: left;\n            margin-top: 17px;\n            clear: both;\n            max-width: 400px;\n            ").concat(c(a.appstle_subscription_widget),"\n        }\n\n        #appstle_subscription_widget").concat(l,"{\n          ").concat(c(a.appstle_widget_text_color),"\n        }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper {\n               border: 1.5px solid #cccccc;\n              // box-shadow: 0 0 0 1px #c4cdd5;\n              border-radius: 5px;\n              margin-bottom: 5px;\n              margin-top: 10px;\n              ").concat(c(a.appstle_subscription_wrapper),"\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option {\n              display: flex;\n              position: relative;\n              padding: 16px 16px;\n          }\n          #appstle_subscription_widget").concat(l," .appstle_selected_background {\n            ").concat(c(a.appstle_selected_background),"\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option:first-child {\n             // box-shadow: 0 1px 0 0 #c4cdd5;\n             border-bottom: inherit;\n          }\n            #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option:first-child:last-child {\n             border-bottom: none;\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) {\n            align-items: center;\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option.appstle_include_dropdown {\n            flex-direction: column;\n            justify-content: center;\n          }\n\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option input[type='radio'] {\n            display: none;\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscribe_option {\n              margin-left: 29px;\n              margin-top: 25px;\n              display: flex;\n                  flex-direction: column;\n              align-items: flex-start;\n              text-align: left;\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_amount {\n              margin-left: auto;\n          }\n\n          #appstle_subscription_widget").concat(l," .appstle_circle {\n              display: flex;\n              height: 18px;\n              width: 18px;\n              border: 2px solid #3a3a3a;\n              border-radius: 50%;\n              margin-right: 10px;\n              justify-content: center;\n              align-items: center;\n              flex-shrink: 0;\n              ").concat(c(a.appstle_circle),"\n            }\n\n          #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper_option input[type=radio]:checked + label .appstle_circle .appstle_dot {\n              height: 10px;\n              width: 10px;\n              background-color: #3a3a3a;\n              border-radius: 50%;\n              flex-shrink: 0;\n              ").concat(c(a.appstle_dot),"\n            }\n\n\n        #appstle_subscription_widget").concat(l," .appstle_radio_label {\n          display: flex !important;\n          align-items: center;\n          margin: 0;\n          padding: 0;\n          background: none;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_select_label {\n          display: flex !important;\n          align-items: center;\n          margin: 0;\n          padding: 0;\n          background: none;\n          margin-bottom: 7px;\n          font-size: 12px;\n\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_form_field_input, #appstle_subscription_widget").concat(l," .appstle_form_field_text_input {\n          width: 100%;\n          padding-left: 20px;\n          padding-right: 20px;\n          height: 43px !important;\n          border-radius: 12px;\n          border: 1px solid #0000003d!important;\n          font-size: 1.5rem;\n          color: #495057;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_tooltip {\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n          box-shadow: 0 2px 4px rgb(0 0 0 / 15%);\n          background-color: #3a3a3a;\n          border-radius: 5px;\n          left: 0;\n          color: #fff;\n          transition: transform .2s cubic-bezier(.215,.61,.355,1);\n          -ms-transform: translateY(0);\n          transform: translateY(100%) scaleY(0);\n          transform-origin: center top;\n          opacity: 0;\n          position: absolute;\n          bottom: 1px;\n          // border-bottom-left-radius: 0;\n          min-width: 250px;\n          ").concat(c(a.appstle_tooltip),"\n        }\n\n\n\n        #appstle_subscription_widget").concat(l," [data-appstle-icon] {\n            -ms-flex-item-align: end;\n            backface-visibility: hidden;\n        }\n\n        #appstle_subscription_widget").concat(l," [data-appstle-icon]:after {\n              border: solid transparent;\n              border-top-color: #3a3a3a;\n              border-width: 9px;\n              content: '';\n              position: absolute;\n              pointer-events: none;\n              opacity: 0;\n              left: 2px;\n              bottom: 0;\n              -ms-transform: translateX(-50%) translateY(10px) rotate(180deg);\n              transform: translateY(10px) rotate(180deg);\n              transition-delay: 0;\n              visibility: hidden;\n              transition: transform .2s cubic-bezier(.215,.61,.355,1);\n              z-index: 99999999;\n              background: none;\n              padding: 0;\n              ").concat(c(a.appstle_tooltip_border_top_color),"\n        }\n\t\t@media screen and (max-width: 1024px) {\n\n\t\t\t#appstle_subscription_widget").concat(l," [data-appstle-icon].appstle-tooltip-show .appstle_tooltip {\n\t\t\t\t  opacity: 1;\n\t\t\t\t  visibility: visible;\n\t\t\t\t  transform: translateY(100%) scaleY(1);\n\t\t\t\t  bottom: 1px;\n\t\t\t\t  z-index: 99999999;\n\t\t\t}\n\n\t\t\t#appstle_subscription_widget").concat(l," [data-appstle-icon].appstle-tooltip-show:after {\n\t\t\t  opacity: 1;\n\t\t\t  visibility: visible;\n\t\t\t  -ms-transform: translateX(-50%) translateY(0) rotate(180deg);\n\t\t\t  transform: translateY(0) rotate(180deg);\n\t\t\t}\n\t\t}\n        @media screen and (min-width: 1025px) {\n\t\t\t#appstle_subscription_widget").concat(l," [data-appstle-icon]:hover .appstle_tooltip {\n\t\t\t\t  opacity: 1;\n\t\t\t\t  visibility: visible;\n\t\t\t\t  transform: translateY(100%) scaleY(1);\n\t\t\t\t  bottom: 1px;\n\t\t\t\t  z-index: 99999999;\n\t\t\t}\n\n\t\t\t#appstle_subscription_widget").concat(l," [data-appstle-icon]:hover:after {\n\t\t\t  opacity: 1;\n\t\t\t  visibility: visible;\n\t\t\t  -ms-transform: translateX(-50%) translateY(0) rotate(180deg);\n\t\t\t  transform: translateY(0) rotate(180deg);\n\t\t\t}\n\t\t}\n\n        #appstle_subscription_widget").concat(l," .appstle_tooltip_wrapper {\n          position: relative;\n          margin-bottom: 6px;\n          display: inline-flex;\n          align-items: center;\n          padding-top: 11px;\n          box-sizing: border-box;\n          margin-left: 0px;\n          padding-bottom: 11px;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_tooltip_wrapper_static {\n          font-size: 13px;\n          background-color: beige;\n          border-radius: 6px;\n          padding: 23px;\n          margin-bottom: 10px;\n          ").concat(c(a.appstle_tooltip),"\n        }\n\n        #appstle_subscription_widget").concat(l," .tooltip_subscription_svg {\n             height: 22px;\n            width: 22px;\n            margin-right: 10px;\n            fill: black;\n            ").concat(c(a.tooltip_subscription_svg),"\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_subscription_radio_wrapper {\n            display: flex;\n            align-items: flex-start;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_subscription_amount_wrapper {\n          margin-left: auto;\n          text-align: right;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_subscription_amount_wrapper .appstle_prepaid_description {\n          font-size: 12px;\n          opacity: 0.8;\n        }\n\n        .appstle_subscription_final_price {\n            margin-right: 10px;\n            text-decoration: none;\n            color: #da4f49;\n            ").concat(c(a.appstle_subscription_final_price),"\n        }\n\n        .appstle_subscription_save {\n            margin-left: 10px;\n              padding: 2px 6px;\n              border: 1px solid #da4f49;\n              border-radius: 3px;\n              font-size: 10px;\n              color: #da4f49;\n              font-weight: bold;\n              display: inline;\n              position: relative;\n              top: -3px;\n              letter-spacing: 1px;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_subscription_wrapper .appstle_select {\n            width: 100%;\n            margin: 0;\n            ").concat(c(a.appstle_select),"\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_hide_subsOption {\n          opacity: 0;\n          margin-top: 0;\n          visibility: hidden;\n          height: 0;\n        }\n\n        #appstle_subscription_widget").concat(l," .appstle_tooltip_content {\n          background-color: #3a3a3a;\n          padding: 16px;\n        }\n\n        body #appstle_subscription_widget").concat(l," .appstle_tooltip_wrapper .appstle_tooltip .appstle_tooltip_appstle {\n          padding: 12px !important;\n          font-size: 8px !important;\n          letter-spacing: 2px !important;\n          text-align: right !important;\n          background: #13b5ea !important;\n          border-bottom-left-radius: 4px !important;\n          border-bottom-right-radius: 4px !important;\n          display: block !important;\n        }\n\n        .appstle_link {\n          color: inherit !important;\n          text-decoration: none !important;\n          cursor: pointer !important;\n        }\n\n        .appstleRadioSellingPlanWrapper {\n          display: flex;\n          flex-direction: column;\n        }\n        .appstleLoyaltyTable {\n          margin-top: 20px;\n        }\n\n        .appstle_loyalty_title {\n          margin-bottom: 10px;\n        }\n\n        .appstle-loyalty-billing-cycle-count, .appstle-loyalty-discount-amount, .appstle-loyalty-free-trial-discount {\n          color: #198946;\n          font-weight: bold;\n        }\n\n        .appstle_fields_wrapper {\n          margin-bottom: 20px;\n        }\n\n        .as-date-input-wrapper {\n          position: relative;\n        }\n\n        .as-date-input-wrapper .ui-datepicker-trigger {\n          position: absolute;\n          height: 100%;\n          width: 40px;\n          right: 0;\n          top: 0;\n        }\n\n        .as-date-input-wrapper .ui-datepicker-trigger img {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 28px;\n          transform: translate(-50%, -50%);\n        }\n\n        .appstle_subscription_compare_amount  {\n          text-decoration: line-through;\n        }\n\n\n\n        \n        </style>\n        <style>").concat(a.customCSS,"</style>")).appendTo(jQuery("head"))}function x(n){if(jQuery(".appstle_fields_wrapper"+J).remove(),jQuery(RSConfig.atcButtonSelector).parents("form").removeAttr("novalidate"),n){var e=RSConfig.sellingPlansJson;if(e){var t=jQuery('<div class="appstle_fields_wrapper appstle_fields_wrapper'.concat(J,'"></div>')),i=null==e?void 0:e.find(function(e){return e.id=="gid://shopify/SellingPlan/".concat(n)});if(!i)return;var l=JSON.parse((null==i?void 0:i.formFieldJson)||null);l&&0<l.length&&(t.insertBefore("#appstle_subscription_widget"+J+" .appstle_widget_title"),l.forEach(function(e,n){"date"===e.type?(t.append(jQuery('\n                    <div class="appstleOrderDatePicker" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleOrderDatePickerLabel" for="properties[_order-date]">').concat(e.label,'</label>\n                      <div class="as-date-input-wrapper">\n                        <input class="appstle_form_field_input" type="text">\n                        <input class="appstle_form_field_input_alternate" type="hidden">\n                        <input name="properties[_order-date]" value="" class="appstle_form_field_input_iso" type="hidden">\n                      </div>\n                    </div>'))),function(){if(!jQuery(".jqueryUIFetched").length&&void 0===jQuery.datepicker){var e=document.createElement("script");e.src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js",e.type="text/javascript",D.appendChild(e);var n=document.createElement("link");n.href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css",n.rel="stylesheet",D.appendChild(n),jQuery("html").addClass("jqueryUIFetched")}}(),function e(n){var t=new Date;if(jQuery.datepicker){if(jQuery("#appstle_subscription_widget"+J+" .appstle_form_field_input_iso").length){var i={altField:"#appstle_subscription_widget"+J+" .appstle_form_field_input_alternate",altFormat:"yy-mm-dd",autoSize:!0,minDate:t,showOn:"both",buttonImage:"https://ik.imagekit.io/mdclzmx6brh/calendar_month_FILL0_wght400_GRAD0_opsz48_iJLonfrRJ.png",defaultDate:t,currentText:"Now",onSelect:function(){X(this).parents(".as-date-input-wrapper").find("input").trigger("change")}};n=n?JSON.parse(n):{};var l=jQuery.extend({},i,n);jQuery("#appstle_subscription_widget"+J+" .appstle_form_field_input").datepicker(l),jQuery("#appstle_subscription_widget"+J+" .appstle_form_field_input").datepicker("setDate",t),jQuery("#appstle_subscription_widget"+J+" .appstle_form_field_input").parents(".as-date-input-wrapper").find("input").trigger("change")}}else setTimeout(function(){return e(n)},30)}(e.config)):"text"===e.type&&t.append(jQuery('\n                    <div class="appstleCustomTextField" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleCustomTextFieldLabel" for="properties[').concat(e.name,']">').concat(e.label,'</label>\n                      <div class="as-customTextField-wrapper">\n                        <input name="properties[').concat(e.name,']" ').concat(null!=e&&e.required?"required":"",' value="" type="text" class="appstle_form_field_text_input">\n                      </div>\n                    </div>')))}),jQuery("#appstle_subscription_widget"+J+" .appstle_form_field_input_alternate").on("change",function(e){var n=e.target.value+"T"+(new Date).toISOString().split("T")[1];jQuery(".appstle_form_field_input_iso").attr("value",new Date(n).toISOString().split(".")[0]+"Z"),jQuery(".appstle_form_field_input_iso").val(new Date(n).toISOString().split(".")[0]+"Z")}))}}}function i(e){var n,t,i,l;return e*("true"===(null===(n=RSConfig)||void 0===n?void 0:n.updatePriceOnQuantityChange)&&parseInt((l=jQuery(p()).first(),Array.prototype.slice.call(l.parents(null===(t=RSConfig)||void 0===t?void 0:t.widgetParentSelector).find(null===(i=RSConfig)||void 0===i?void 0:i.quantitySelector)).map(function(e){return Number(X(e).val())}).reduce(function(e,n){return Math.max(e,n)},-1/0)))||1)}function q(e){return Y(i(e))}function B(){var e=null;try{var n;e=null!==(n=RSConfig)&&void 0!==n&&n.switchRadioButtonWidget?jQuery("#appstle_subscription_widget"+J).find(".appstle_subscribe_option input:checked").val():jQuery("#appstle_subscription_widget"+J).find(".appstle_subscription_wrapper_option.appstle_include_dropdown select").val()}catch(e){}return e}function P(){var e=null;try{e=jQuery("#appstle_subscription_widget"+J).find("input[name=selling_plan]:checked").val()}catch(e){}return e}function U(){return null==jQuery("#appstle_subscription_widget"+J).closest('form[action$="/cart/add"]').find("[name=id]")[0]?w.id:jQuery("#appstle_subscription_widget"+J).closest('form[action$="/cart/add"]').find("[name=id]")[0].value}function a(){var e,n,t,i,l=U(),a=null;h?a=(null==o?void 0:o.variants.filter(function(e){return String(null==e?void 0:e.id)===String(l)})).pop().price:a=null===(e=RSConfig)||void 0===e?void 0:null===(n=e.variantsById[l])||void 0===n?void 0:n.price;jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) .appstle_subscription_amount").html(G((t=q(a),i={price:t},G(Mustache.render(RS.Config.oneTimePriceText,i)))))}function s(){var e,n,t,i,l,a,o,s,p,r,c,d,u,_,f,g,v,y,m,b,h=B();if(jQuery("#appstle_subscription_widget".concat(J)).find('[name="properties[_fulfillments-count]"]').remove(),h){var w=U();!function(n,e){var t,i,l,a,o=null===(t=RSConfig)||void 0===t?void 0:null===(i=t.sellingPlansJson)||void 0===i?void 0:i.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(n)}),s=[];null!=o&&null!==(l=o.appstleCycles)&&void 0!==l&&l.length&&(null==o||null===(a=o.appstleCycles)||void 0===a||a.forEach(function(e){s.push(null==e?void 0:e.freeProductHandle)}));!function n(t,i,l){var a=t.shift();if(a){var e,o;null!==(e=window)&&void 0!==e&&null!==(o=e.products)&&void 0!==o&&o[a]?t.length?n(t,i,l):H(i,l):fetch("/products/".concat(a,".js")).then(function(e){if(e.ok)return e.json()}).then(function(e){window.products||(window.products={}),window.products[a]=e,t.length?n(t,i,l):H(i,l)})}else t.length?n(t,i,l):H(i,l)}(s,n,e)}(h,V());var S=L(w,parseInt(h)),C=q(S.per_delivery_price),j=(G(q(M.price)),g=null==S?void 0:S.selling_plan_group_id,v=null==S?void 0:S.selling_plan_id,(null==(b=(null===(y=M)||void 0===y?void 0:y.selling_plan_groups.filter(function(e){return(null==e?void 0:e.id)===g})).pop())?void 0:null===(m=b.selling_plans)||void 0===m?void 0:m.filter(function(e){return(null==e?void 0:e.id)===v})).pop()),x=(null==j?void 0:j.description)||"";jQuery("#appstle_subscription_widget"+J+" #appstle_selling_plan_label_2"+J).attr("value",h);var P=S.per_delivery_price!==S.price,R=G((c=C,d=P,u=q(S.price),_=d?{pricePerDelivery:c,totalPrice:u}:{price:c},f=d?RS.Config.selectedPrepaidSellingPlanPriceText:RS.Config.selectedPayAsYouGoSellingPlanPriceText,G(Mustache.render(f,_)))),T=z(),Q=z(!0),O=(o=C,s=q(S.price),p={pricePerDelivery:o,totalPrice:s},r=RS.Config.tooltipDescriptionOnPrepaidPlan,G(Mustache.render(r,p))),k=function(e,n){var t;if(2==(null==e?void 0:null===(t=e.price_adjustments)||void 0===t?void 0:t.length)){var i,l,a={firstPrice:q(null==e?void 0:null===(i=e.price_adjustments[0])||void 0===i?void 0:i.price),secondPrice:q(null==e?void 0:null===(l=e.price_adjustments[1])||void 0===l?void 0:l.price),discountOne:0<n.length?n[0]:"",discountTwo:2==n.length?n[1]:""};return G(Mustache.render(RS.Config.tooltipDescriptionOnMultipleDiscount,a))}}(S,Q),E=(t=O,i=k,l=P?{prepaidDetails:t,discountDetails:i,defaultTooltipDescription:RS.Config.tooltipDesctiption}:{defaultTooltipDescription:RS.Config.tooltipDesctiption,discountDetails:i},a=RS.Config.tooltipDescriptionCustomization,G(Mustache.render(a,l))),D=(n={discountValue:T},G(Mustache.render(RS.Config.subscriptionOptionText,n))),I=(e={prepaidPerDeliveryPrice:C},G(Mustache.render(RS.Config.totalPricePerDeliveryText,e)));jQuery("#appstle_subscription_widget"+J+" .appstle_prepaid_description").remove(),jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option.appstle_include_dropdown .appstle_subscription_amount").html(R),jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option.appstle_include_dropdown .appstle_subscription_compare_amount ").html(""),P&&I&&jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_amount_wrapper").append('<div class="appstle_prepaid_description transcy-money">'.concat(G(I)||G(q(S.price))+"/delivery","</div>")),jQuery("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper_option.appstle_include_dropdown .appstle_subscription_radio_wrapper .appstle_subscribe_save_text").html(D),V()&&E&&E.trim()?RS.Config.showStaticTooltip?jQuery("#appstle_subscription_widget"+J+" .appstle_tooltip_wrapper_static").html(E):jQuery("#appstle_subscription_widget"+J+" .appstle_tooltip_wrapper .appstle_tooltip .appstle_tooltip_content").html(E):RS.Config.showStaticTooltip&&RS.Config.tooltipDesctiption&&RS.Config.tooltipDesctiption.trim()?jQuery("#appstle_subscription_widget"+J+" .appstle_tooltip_wrapper_static").html(RS.Config.tooltipDesctiption):jQuery("#appstle_subscription_widget"+J+" .appstle_tooltip_wrapper .appstle_tooltip .appstle_tooltip_content").html(RS.Config.tooltipDesctiption);var N=x.includes("{{sellingPlanName}}")?x.replace("{{sellingPlanName}}",null==j?void 0:j.name):x;if(jQuery("#appstle_subscription_widget"+J+" .appstleSelectedSellingPlanOptionDescription").html(N),jQuery("#appstle_subscription_widget".concat(J)).find('[name="selling_plan"]:checked').val()&&"true"===A["appstle.subscription.wg.allowFulfilmentCountViaPropertiesV2"]){var F=j.options[0].value.match(/(\d+)/g)[1]/j.options[0].value.match(/(\d+)/g)[0];jQuery("#appstle_subscription_widget".concat(J)).append('<input type=hidden name="properties[_fulfillments-count]" value="'.concat(F,'">'))}}}function H(n,e){var t,i,l,a,v=[];jQuery("#appstle_subscription_widget"+J+" .appstleLoyaltyTable").remove();var o,s=null===(t=RSConfig)||void 0===t?void 0:null===(i=t.sellingPlansJson)||void 0===i?void 0:i.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(n)}),p=null;(null!=s&&s.freeTrialEnabled&&v.push({perkText:y(0,s.freeTrialCount,s.freeTrialInterval,null==s?void 0:s.freeTrialEnabled)}),null!=s&&s.afterCycle2&&0<parseFloat(s.discountOffer2)&&v.push({perkText:y(W(s.afterCycle2),s.discountOffer2,s.discountType2,!1)}),null!=s&&null!==(l=s.appstleCycles)&&void 0!==l&&l.length)&&(null==s||null===(o=s.appstleCycles)||void 0===o||o.forEach(function(n){var e="",t="";if("FREE_PRODUCT"===n.discountType){var i,l,a,o,s,p,r,c,d,u,_,f,g;if(e=null===(i=window)||void 0===i?void 0:null===(l=i.products)||void 0===l?void 0:null===(a=l[n.freeProductHandle])||void 0===a?void 0:a.title,1<(null===(o=window)||void 0===o?void 0:null===(s=o.products)||void 0===s?void 0:null===(p=s[n.freeProductHandle])||void 0===p?void 0:p.variants.length))e=e+" - "+(null===(g=(null===(u=window)||void 0===u?void 0:null===(_=u.products)||void 0===_?void 0:null===(f=_[n.freeProductHandle])||void 0===f?void 0:f.variants.filter(function(e){return e.id===parseInt(null==n?void 0:n.freeVariantId)})).pop())||void 0===g?void 0:g.title);t=null===(r=window)||void 0===r?void 0:null===(c=r.products)||void 0===c?void 0:null===(d=c[n.freeProductHandle])||void 0===d?void 0:d.featured_image}(0<parseFloat(n.value)||e||"SHIPPING"===n.discountType)&&v.push({perkText:y(W(n.afterCycle),n.value,n.discountType,!1,e,t)})}));var r=(null===(a=RSConfig)||void 0===a?void 0:a.loyaltyDetailsLabelText)||"Subscriber Rewards";if(v.length){var c='<div class="appstleLoyaltyTable" '.concat(e?"":'style="display: none;"','><table width="100%">\n                        <div class="appstle_loyalty_title">').concat(r,"</div>\n                        <tbody>\n                          {{#items}}\n                            <tr>\n                              <td>{{{perkText}}}</td>\n                            </tr>\n                           {{/items}}\n                        </tbody>\n                      </table></div>");v={items:v},p=Mustache.render(c,v),jQuery(p).insertAfter("#appstle_subscription_widget"+J+" .appstle_subscription_wrapper")}}function y(e,n,t,i,l,a){if(JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"]){var o={discount:n,discountType:t,formatDiscountedPrice:Y(100*n),freeProductName:l,isDiscountTypePercentage:"PERCENTAGE"===t,isDiscountTypeShipping:"SHIPPING"===t,isDiscountTypeFreeProduct:"FREE_PRODUCT"===t,isDiscountTypeFixed:"FIXED"===t,isFreeTrial:i,isCartPage:!1,featured_image:a,billingCycleBlock:'<span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,"</span>")};return Mustache.render(JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"],o)}return"PERCENTAGE"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(n+"% off","</span></span>."):"SHIPPING"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">',"shipping at ".concat(Y(100*n)),"</span></span>."):"FREE_PRODUCT"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">FREE PRODUCT (').concat(l,")</span></span>."):"FIXED"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(Y(100*n)+" off","</span></span>."):i?'Get <span class="appstle-loyalty-free-trial-discount">'.concat(n,' <span class="appstle-loyalty-free-trial-discount-count" style="text-transform: lowercase;">').concat(t).concat(1<n?"s":"",'</span></span> <span class="appstle-loyalty-free-trial-text">free trial.</span>'):"PERCENTAGE"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(n+"% off","</span></span>."):"SHIPPING"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">',"shipping at ".concat(Y(100*n)),"</span></span>."):"FREE_PRODUCT"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">FREE PRODUCT (').concat(l,")</span></span>."):"FIXED"===t?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(Y(100*n)+" off","</span></span>."):void 0}function V(){var e=!1;try{e=jQuery("#appstle_subscription_widget"+J).find(".appstle_subscription_wrapper_option.appstle_include_dropdown input")[0].checked}catch(e){}return e}function r(){var e,n,t,i,l,a={regular:{sellingPrice:RSConfig.priceSelector,saleBadgeTop:RSConfig.badgeTop}}.regular;null!==(e=RSConfig)&&void 0!==e&&e.widgetParentSelector?(jQuery("#appstle_subscription_widget"+J).parents(null===(t=RSConfig)||void 0===t?void 0:t.widgetParentSelector).find(".appstle_subscription_final_price").remove(),jQuery("#appstle_subscription_widget"+J).parents(null===(i=RSConfig)||void 0===i?void 0:i.widgetParentSelector).find(".appstle_subscription_element").remove(),jQuery("#appstle_subscription_widget"+J).parents(null===(l=RSConfig)||void 0===l?void 0:l.widgetParentSelector).find(".appstle_subscription_compare_price").remove()):(jQuery(".appstle_subscription_final_price").remove(),jQuery(".appstle_subscription_element").remove(),jQuery(".appstle_subscription_compare_price").remove());var o,s,p=(o=B())?q(L(w.id,parseInt(o)).per_delivery_price):null,r=z(),c=jQuery(a.sellingPrice);null!==(n=RSConfig)&&void 0!==n&&n.widgetParentSelector&&(c=jQuery("#appstle_subscription_widget"+J).parents(null===(s=RSConfig)||void 0===s?void 0:s.widgetParentSelector).find(a.sellingPrice));if(c.css("text-decoration",""),c.removeAttr("data-appstle-price-modified"),a.sellingPrice&&r){if(V()){var d=(y={selectedDiscountPercentage:r},G(Mustache.render(RS.Config.selectedDiscountFormat,y)));if(d){var u=jQuery('<span class="appstle_subscription_element appstle_subscription_save"> '.concat(d," </span>"));u&&u.css("top",a.saleBadgeTop);var _=c.first().clone();_.addClass("appstle_subscription_final_price"),_.html(p);var f=(g=_,v={},X.each(g[0].attributes,function(e,n){v[n.name]=n.value}),v);Object.keys(f).forEach(function(e){"class"!==e&&"style"!==e&&_.removeAttr(e)}),c.css("text-decoration","line-through"),0<_.length&&_.insertBefore(c),u.insertAfter(c)}}var g,v,y;c.attr("data-appstle-price-modified",!0)}else c.attr("data-appstle-price-modified",!0)}function z(e){var n,t,i,l,a;if(!(a=parseInt(B())))return null;if(M.selling_plan_groups.forEach(function(n){"appstle"===n.app_id&&n.selling_plans.forEach(function(e){_(e.id)&&e.id===a&&(l=n)})}),l.selling_plans.forEach(function(e){e.id===a&&(a=e)}),e&&2==(null===(n=a)||void 0===n?void 0:null===(t=n.price_adjustments)||void 0===t?void 0:t.length)){var o,s,p=[];return null===(o=a)||void 0===o||null===(s=o.price_adjustments)||void 0===s||s.forEach(function(e){"percentage"!==(null==e?void 0:e.value_type)?p.push(q(null==e?void 0:e.value)):p.push((null==e?void 0:e.value)+"%")}),p}var r=null===(i=a)||void 0===i?void 0:i.price_adjustments[0];return null==r||null==r.value||0==r.value?null:"percentage"!==(null==r?void 0:r.value_type)?q(null==r?void 0:r.value):(null==r?void 0:r.value)+"%"}function R(){s(),a(),r(),setTimeout(function(){return x(P())},30),O("SubscriptionWidgetUpdated")}function c(n){var t={};return n?(Object.keys(n).forEach(function(e){n[e]&&(t[e]=n[e])}),JSON.stringify(t).split('"').join("").split("{").join("").split("}").join("").split(",").join(";")):""}function d(){if(w){var e=w.id;if(history.replaceState&&e){var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?";if(V()){var t=B();t&&(n+="selling_plan="+t+"&")}(n+="variant="+e)!==location.href&&window.history.replaceState({path:n},"",n)}}}}function W(e){var n=e%10,t=e%100;return 1==n&&11!=t?e+"<sup>st</sup>":2==n&&12!=t?e+"<sup>nd</sup>":3==n&&13!=t?e+"<sup>rd</sup>":e+"<sup>th</sup>"}function u(){var i=Array.prototype.slice.call(jQuery(".appstle_stand_alone_selector:not(.appstle_stand_alone_selector_processed)")),l=-1;!function n(){if(null!=i&&i.length){var t=i.shift(),e=X(t).data("product-data");l+=1,jQuery(t).parents("form").find(".appstle_sub_widget").length?n():e?(d(e,X(t),l),n()):fetch(location.origin+"/products/".concat(jQuery(t).data("product-handle"),".js")).then(function(e){if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()}).then(function(e){jQuery(t).attr("data-product-data",e),d(e,X(t),l),n()}).catch(function(e){console.log(e)})}}()}function T(){return decodeURIComponent(window.location.pathname).includes("/products/")}function G(e){var n=document.createElement("textarea");return n.innerHTML=decodeURI(encodeURI(e)),n.value}function Y(e){var n,t,i=RS.Config.moneyFormat,l=i;i&&(l=null==i?void 0:null===(t=i.replace("{% raw %}",""))||void 0===t?void 0:t.replace("{% endraw %}",""));"string"==typeof e&&(e=e.replace(".",""));var a,o="",s=/\{\{\s*(\w+)\s*\}\}/,p="undefined"!=typeof Shopify&&Shopify.money_format&&1<Shopify.money_format.length?Shopify.money_format:"";a="undefined"!=typeof theme?theme.moneyFormat?theme.moneyFormat:theme.money_format?theme.money_format:theme.settings&&theme.settings.moneyFormat?theme.settings.moneyFormat:theme.strings?theme.strings.moneyFormat:"":"";var r,c,d,u,_,f,g="";"true"===(null===(n=RS.Config)||void 0===n?void 0:n.formatMoneyOverride)?g=RS.Config.moneyFormat:g=(null===(r=window)||void 0===r?void 0:r.shopifyCurrencyFormat)||(null===(c=window)||void 0===c?void 0:c.moneyFormat)||(null===(d=window)||void 0===d?void 0:null===(u=d.Currency)||void 0===u?void 0:u.money_format_no_currency)||a||(null===(_=RSConfig)||void 0===_?void 0:_.shopMoneyFormat)||l||p||(f=RSConfig.shopMoneyFormatWithCurrencyFormat,(new DOMParser).parseFromString(f,"text/html").documentElement.textContent);function v(e,n,t,i){if(t=t||",",i=i||".",isNaN(e)||null===e)return 0;var l=(e=(e/100).toFixed(n)).split(".");return l[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)+(l[1]?i+l[1]:"")}switch(g.match(s)[1]){case"amount":o=v(e,2);break;case"amount_no_decimals":o=v(e,0);break;case"amount_with_comma_separator":o=v(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=v(e,0,".",",");break;case"amount_no_decimals_with_space_separator":o=v(e,0," ");break;case"amount_with_apostrophe_separator":o=v(e,2,"'")}return G(g.replace(s,o))}function _(){var e,n;0<jQuery(".appstle_stand_alone_price_display_selector").length&&(n=null===(e=RSConfig)||void 0===e?void 0:e.css,jQuery("<style>.appstle_subscribesavetext{\n                  background-color:#c00303;\n                  color:#fff;\n                  padding:4px 8px;\n                  font-size:13px;\n                }</style>\n                  <style>".concat(null==n?void 0:n.customCSS,"</style>")).appendTo(jQuery("head")),jQuery(".appstle_stand_alone_price_display_selector:not(.appstle_stand_alone_price_display_selector_processed)").each(function(e){var n,t,i,l,a,o,s=X(this).data("product-data"),p=Number.MAX_SAFE_INTEGER,r=!1;(null==s||null===(n=s.variants)||void 0===n||n.forEach(function(e){var n;null==e||null===(n=e.selling_plan_allocations)||void 0===n||n.forEach(function(e){var n,t;(null==e?void 0:null===(n=e.price_adjustments[0])||void 0===n?void 0:n.price)<p&&(p=null==e?void 0:null===(t=e.price_adjustments[0])||void 0===t?void 0:t.price,r=!0)})}),r)&&(X(this).siblings((null===(t=RSConfig)||void 0===t?void 0:t.landingPagePriceSelector)||(null===(i=RS)||void 0===i?void 0:null===(l=i.Config)||void 0===l?void 0:l.landingPagePriceSelector)||"span.price, span.appstle_hide_old_price, .price").hide(),X(this).html(G((o={subscriptionPrice:Y(p)},G(Mustache.render(null===(a=RSConfig)||void 0===a?void 0:a.subscriptionPriceDisplayText,o))))));X(this).show(),X(this).addClass("appstle_stand_alone_price_display_selector_processed")}))}console.log("jQuery is loaded, after "+c+" milliseconds!"),Q()?u():d(void 0,void 0,0),jQuery(document).on("click","".concat(null===(e=window)||void 0===e?void 0:null===(n=e.RS)||void 0===n?void 0:null===(t=n.Config)||void 0===t?void 0:t.quickViewClickSelector)||"a.grid-product__link",function(){var e,n,t;if(0<jQuery("".concat(null===(e=window)||void 0===e?void 0:null===(n=e.RS)||void 0===n?void 0:null===(t=n.Config)||void 0===t?void 0:t.quickViewClickSelector)||"a.grid-product__link").length){var i,l,a,o,s,p=function(){var e;Q()?u():0==(null===(e=jQuery("#appstle_subscription_widget0"))||void 0===e?void 0:e.length)&&d(void 0,void 0,0)};if("".concat(null===(i=window)||void 0===i?void 0:null===(l=i.RS)||void 0===l?void 0:null===(a=l.Config)||void 0===a?void 0:a.quickViewModalPollingSelector)||"mahalia-coffee.myshopify.com"==(null===(o=window)||void 0===o?void 0:null===(s=o.Shopify)||void 0===s?void 0:s.shop)){!function e(){var n,t,i;jQuery(".quickshop.quickshop-visible.quickshop-loaded").length||jQuery("".concat(null===(n=window)||void 0===n?void 0:null===(t=n.RS)||void 0===t?void 0:null===(i=t.Config)||void 0===i?void 0:i.quickViewModalPollingSelector)).length?p():setTimeout(function(){e()},200)}()}else setTimeout(function(){p()},500)}}),setTimeout(_,30);var f,g,v,y,m,b,h,w=document.querySelector("body");function Q(){return 0<jQuery(".appstle_stand_alone_selector").length}function S(n){var e;if(n=n||"#AppstleCustomerPortal",document.querySelector(n))return jQuery.get("/".concat(null===(e=RSConfig)||void 0===e?void 0:e.manageSubscriptionUrl,"?renderType=html")).then(function(e){jQuery(n).html(e),document.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:Embedded")),window.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:Embedded"))}).catch(function(e){return console.log("error",e)})}function C(e){return Object.prototype.toString.call(e).slice(8,-1)}function O(e){document.dispatchEvent(new Event("AppstleSubscription:SubscriptionWidget:".concat(e))),window.dispatchEvent(new Event("AppstleSubscription:SubscriptionWidget:".concat(e)))}function k(e){for(var n,t=(null==e?void 0:null===(n=e.substr(1))||void 0===n?void 0:n.split("&"))||location.search.substr(1).split("&"),i={},l=0;l<t.length;l++){var a=t[l].split("=");i[a[0]]=a[1]}return i}function E(e,n){return k(n)[e]||null}function j(e){X(e||".product-block__inner ").each(function(e,n){X(n).find(".appstle-swap-product").length||X(n).append('<button class="appstle-swap-product"><span class="appstle-swap-product-text">SWAP</span><span class="appstle-swap-product-loader">Swapping</span><span class="appstle-swap-product-success">Swapped</span><span class="appstle-swap-product-error">Error</span></button>')})}function x(e){e.removeClass("inProgress"),e.removeClass("success"),e.removeClass("error")}new MutationObserver(_).observe(w,{attributes:!0,childList:!0,subtree:!0}),(window.appstleSubscriptionCustomerPortalInit=S)(),document.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:ReadyToEmbed")),window.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:ReadyToEmbed")),1!==(null===(i=jQuery(".appstle_stand_alone_selector"))||void 0===i?void 0:i.length)&&!0!==T()||"true"!==(null===(l=window)||void 0===l?void 0:null===(a=l.RS)||void 0===a?void 0:null===(o=a.Config)||void 0===o?void 0:o.enableAddJSInterceptor)||(g=window.fetch,jQuery.ajaxSetup({beforeSend:function(e,n){if(console.log(e),console.log(n.data),console.log(n.url),"/cart/add.js"===(null==n?void 0:n.url)){var t=X(".appstle_sub_widget input[name=selling_plan]:checked").val();t&&(n.data=n.data+"&selling_plan=".concat(t))}}}),f=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(n){if(-1!==this._url.indexOf("/cart/add.js")){var e=null,t=X(".appstle_sub_widget input[name=selling_plan]:checked").val();if(t)try{"{"===n.substr(0,1)&&"}"===n.substr(-1)?((e=JSON.parse(n)).selling_plan=t,f.call(this,JSON.stringify(e))):"{"!==n.substr(0,1)&&"}"!==n.substr(-1)&&-1!==n.indexOf("&")?f.call(this,n+"&selling_plan=".concat(t)):f.call(this,n)}catch(e){f.call(this,n)}else f.call(this,n)}else f.call(this,n)},window.fetch=function(){var e=arguments[0],n=arguments[1];if(-1===e.indexOf("/cart/add"))return g.apply(this,arguments);var t=R.get("variant");if("FormData"!==C(n.body)&&"Object"!==C(n.body)){var i={},l=JSON.parse(null==n?void 0:n.body);if("Object"===C(l)&&"Array"==C(null==l?void 0:l.items)){var a,o=null==l?void 0:null===(a=l.items)||void 0===a?void 0:a.findIndex(function(e){return e.id==t});if(0<=o){var s,p=null==l?void 0:null===(s=l.items)||void 0===s?void 0:s.filter(function(e){return e.id!=t}),r=JSON.parse(JSON.stringify(null==l?void 0:l.items[o]));return r.selling_plan=X(".appstle_sub_widget input[name=selling_plan]:checked").val(),p.push(r),i.items=JSON.parse(JSON.stringify(p)),n.body=JSON.stringify(i),g.apply(this,arguments)}return g.apply(this,arguments)}if("Object"===C(l)){var c=JSON.parse(null==n?void 0:n.body);return c.selling_plan=X(".appstle_sub_widget input[name=selling_plan]:checked").val(),n.body=JSON.stringify(c),g.apply(this,arguments)}}else if("FormData"===C(n.body))return n.body.set("selling_plan",X(".appstle_sub_widget input[name=selling_plan]:checked").val()||""),g.apply(this,arguments)}),"swap"==E("action")&&(X(document).on("click",".appstle-swap-product",function(){var n=X(this);n.addClass("inProgress");var e=function(e){var n=X(e),t=null;if(!t){var i=n.parent().find("a").attr("href"),l=new URL(location.origin+i);t=E("variant",null==l?void 0:l.search)}return t}(this),t=E("lineId"),i=E("contractId");requestUrl="/apps/subscriptions/cp/api/subscription-contract-details/replace-variants-v2?contractId=".concat(i,"&newVariantId=").concat(e,"&quantity=","1","&oldLineId=").concat(t),fetch(requestUrl,{method:"POST"}).then(function(e){n.removeClass("inProgress"),e.ok?n.addClass("success"):n.addClass("error"),setTimeout(function(){return x(n)},2500)}).catch(function(e){n.removeClass("inProgress"),n.addClass("error"),setTimeout(function(){return x(n)},2500)})}),j(),v="main",y=function(){return j()},m=document.querySelector(v),b={attributes:!0,childList:!0,subtree:!0},h=new MutationObserver(y),m&&b&&h.observe(m,b),jQuery("<style>.appstle-swap-product .appstle-swap-product-loader, .appstle-swap-product .appstle-swap-product-success, .appstle-swap-product .appstle-swap-product-error,\n              .appstle-swap-product.inProgress .appstle-swap-product-text, .appstle-swap-product.inProgress .appstle-swap-product-success, .appstle-swap-product.inProgress .appstle-swap-product-error,\n              .appstle-swap-product.success .appstle-swap-product-text, .appstle-swap-product.success .appstle-swap-product-loader, .appstle-swap-product.success .appstle-swap-product-error ,\n              .appstle-swap-product.error .appstle-swap-product-text, .appstle-swap-product.error .appstle-swap-product-success, .appstle-swap-product.error .appstle-swap-product-loader {\n                display: none;\n              }\n      \n              .appstle-swap-product .appstle-swap-product-text,\n              .appstle-swap-product.inProgress .appstle-swap-product-loader,\n              .appstle-swap-product.success .appstle-swap-product-success,\n              .appstle-swap-product.error .appstle-swap-product-error {\n                display: block;\n              }</style>").appendTo("head")),"true"===(null===(s=window)||void 0===s?void 0:null===(p=s.RS)||void 0===p?void 0:null===(r=p.Config)||void 0===r?void 0:r.enableCartWidgetFeature)&&X(function(){var e,n,t,i,l,a,o,s,p,r,c,d,u,_,f,g,v,y,m,b,h,w,S,C=null===(e=window)||void 0===e?void 0:null===(n=e.RS)||void 0===n?void 0:null===(t=n.Config)||void 0===t?void 0:t.selectors.cartRowSelector,j=null===(i=window)||void 0===i?void 0:null===(l=i.RS)||void 0===l?void 0:null===(a=l.Config)||void 0===a?void 0:a.selectors.cartLineItemSelector,x="[data-appstle-selector]",P=null===(o=window)||void 0===o?void 0:null===(s=o.RS)||void 0===s?void 0:null===(p=s.Config)||void 0===p?void 0:p.selectors.cartLineItemPerQuantityPriceSelector,R=null===(r=window)||void 0===r?void 0:null===(c=r.RS)||void 0===c?void 0:null===(d=c.Config)||void 0===d?void 0:d.selectors.cartLineItemTotalPriceSelector,T=null===(u=window)||void 0===u?void 0:null===(_=u.RS)||void 0===_?void 0:null===(f=_.Config)||void 0===f?void 0:f.selectors.cartLineItemSellingPlanNameSelector,Q=null===(g=window)||void 0===g?void 0:null===(v=g.RS)||void 0===v?void 0:null===(y=v.Config)||void 0===y?void 0:y.selectors.cartSubTotalSelector,O=null===(m=window)||void 0===m?void 0:null===(b=m.RS)||void 0===b?void 0:null===(h=b.Config)||void 0===h?void 0:h.selectors.cartLineItemPriceSelector,k=JSON.parse(RS.Config.labels),E="";function D(){jQuery("#appstle_overlay").length||F(),jQuery(".appstle_subscription_cart_wrapper select").each(function(e,n){jQuery(n).off()}),jQuery(".appstle_subscribe_selected input").each(function(e,n){jQuery(n).off()}),jQuery(".appstle_subscribe_title").each(function(e,n){jQuery(n).off()}),jQuery(".appstle_selected_frequency").each(function(e,n){jQuery(n).off()}),fetch("/cart.js").then(function(e){return e.json()}).then(function(g){var e,n,t,i,l,a,o=[],v=[];function s(){g.items.forEach(function(n,e){var t,i,l,a,o,s=v.filter(function(e){return e.handle===n.handle}).pop(),p=(l=JSON.parse(JSON.stringify(s)),a=null==n?void 0:n.variant_id,!!((o=(null==l?void 0:l.variants.filter(function(e){return e.id===a})).pop())&&null!=o&&o.selling_plan_allocations&&null!=o&&o.selling_plan_allocations.length)),r=null==n?void 0:null===(t=n.selling_plan_allocation)||void 0===t?void 0:null===(i=t.selling_plan)||void 0===i?void 0:i.id;if(p){var c=jQuery('<div class="appstle_subscription_cart_wrapper">\n                        <div class="appstle_subscribe_title">\n                            <input type="checkbox"></input>\n                            <span class="appstle_discount_text"><span class="appstle_highest_discount">'.concat(k["appstle.subscription.wg.subscribeAndSaveInitalV2"],'</span></span>\n                        </div>\n                        <div class="appstle_subscribe_selected_wrapper" style="display: none;">\n                            <div class="appstle_subscribe_selected">\n                              <input type="checkbox" checked ').concat(null!=s&&s.requires_selling_plan?"disabled":"",'></input>\n                              <div class="appstle_subscribe_selected_text">').concat(k["appstle.subscription.wg.subscribeAndSaveSuccessV2"],'</div>\n                            </div>\n                            <div class="appstle_selected_frequency">\n                                <span class="appstle_deliveryText">{{deliveryText}}</span>&nbsp;\n                                <span class="appstle_applied_sellingPlanName">{{appliedSellingPlanName}}</span>\n                                <p class="appstle_applied_discountText"></p>\n                            </div>\n                        </div>\n                        <div class="appstle_radio_section" style="display: none">\n\n                            <select id="appstle_selling_plan_cart" data-product-select-id="').concat(JSON.parse(JSON.stringify(s)).id,"-").concat(r,'" class="appstle_select_cart"></select>\n                        </div>\n                    </div>'));!function(e,a,o,r){var n,t,i,l,s,p,c,d,u=[];if(jQuery.each(e.selling_plan_groups,function(e,n){"appstle"===n.app_id&&jQuery.each(n.selling_plans,function(e,n){if(function(e){var n=__st.cid,t=RSConfig.customer_tags||[],i=!0;if(!n&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]&&RSConfig.memberOnlySellingPlansJson[e].enableMemberInclusiveTag&&(i=!1),n&&RSConfig.nonMemberOnlySellingPlansJson&&RSConfig.nonMemberOnlySellingPlansJson[e]&&(i=!1),i&&n&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]){if(RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags&&RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.trim()){var l=RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.split(","),a=compareCustomerTags(t,l);i=0<a.length}if(RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags&&RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.trim()){var o=RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.split(","),s=compareCustomerTags(t,o);i=!(0<s.length)}}return i}(n.id)){var t=r.selling_plan_allocations.find(function(e){return e.selling_plan_id===n.id});if(!t)return;var i=t.per_delivery_price,l=Y(null==t?void 0:t.price),a=Y(i),o=null,s=null;s=t&&t.price_adjustments&&2===t.price_adjustments.length?Y(o=t.price_adjustments[1].price):(o=i,a);var p=n.price_adjustments.shift();u.push({name:n.name,id:n.id,formattedPrice:a,price:i,totalPrice:l,secondPrice:o,secondFormattedPrice:s,discount:p?"percentage"===p.value_type?"".concat(p.value,"%"):Y(p.value):"",deliveryText:n.options[0].name})}})}),0<u.length){u.sort(function(e,n){return e.price-n.price}),jQuery("<option />",{html:k["appstle.subscription.wg.selectDeliverOptionV2"]||"Select Delivery Option",value:""}).appendTo(a.find("select")),jQuery(u).each(function(e,n){var t,i,l=(i=(t=n).totalPrice==t.formattedPrice?{sellingPlanName:t.name,sellingPlanPrice:'<span class="transcy-money">'.concat(t.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(t.secondFormattedPrice,"</span>")}:{sellingPlanName:t.name,totalPrice:'<span class="transcy-money">'.concat(null==t?void 0:t.totalPrice,"</span>"),sellingPlanPrice:'<span class="transcy-money">'.concat(t.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(t.secondFormattedPrice,"</span>")},G(Mustache.render(RS.Config.sellingPlanTitleText,i)));jQuery("<option />",{value:n.id,html:l,selected:o===(null==n?void 0:n.id)}).appendTo(a.find("select"))}),null!=e&&e.requires_selling_plan||jQuery("<option />",{value:"appstle_unsubscribe",html:k["appstle.subscription.wg.unsubscribeFrequencyTextV2"]||"Unsubscribe"}).appendTo(a.find("select"));var _=u.filter(function(e){return(null==e?void 0:e.id)===o}).pop();if(_){var f=a.find(".appstle_selected_frequency .appstle_deliveryText").text().split("{{deliveryText}}").join(_.deliveryText||"");a.find(".appstle_deliveryText").html(f);var g=a.find(".appstle_selected_frequency .appstle_applied_sellingPlanName").text().split("{{appliedSellingPlanName}}").join(_.name);a.find(".appstle_applied_sellingPlanName").html(g);var v=a.find(".appstle_subscribe_selected_text").text().split("{{{discountValue}}}").join(_.discount);a.find(".appstle_subscribe_selected_text").html(v),n=_.id,t=a,c=null===(i=RSConfig)||void 0===i?void 0:null===(l=i.sellingPlansJson)||void 0===l?void 0:l.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(n)}),d=[],null!=c&&null!==(s=c.appstleCycles)&&void 0!==s&&s.length&&(null==c||null===(p=c.appstleCycles)||void 0===p||p.forEach(function(e){d.push(null==e?void 0:e.freeProductHandle)})),function n(t,i,l){var e,a,o=t.shift();return null!==(e=window)&&void 0!==e&&null!==(a=e.products)&&void 0!==a&&a[o]?t.length?n(t,i,l):M(i,l):fetch("/products/".concat(o,".js")).then(function(e){if(e.ok)return e.json()}).then(function(e){return window.products||(window.products={}),window.products[o]=e,t.length?n(t,i,l):M(i,l)})}(d,n,t)}else{var y=a.find(".appstle_highest_discount").text().split("{{{discountValue}}}").join(u[0].discount);a.find(".appstle_highest_discount").html(y)}}}(JSON.parse(JSON.stringify(s)),c,r,JSON.parse(JSON.stringify(s.variants.filter(function(e){return e.id===n.id}).pop()))),jQuery(c).find("select").on("change",function(e){A(null==g?void 0:g.items,n,s.id,e.target.value,!1)}),jQuery(c).find(".appstle_subscribe_selected input").on("change",function(e){A(null==g?void 0:g.items,n,s.id,jQuery(c).find("select").val(),!0)}),jQuery(c).find(".appstle_subscribe_title, .appstle_selected_frequency").on("click",function(){X(this).hide(),X(this).parents(".appstle_subscription_cart_wrapper").find(".appstle_radio_section").show()});var d,u,_=jQuery(jQuery(C)[e]);if(r&&(c.find(".appstle_subscribe_title").hide(),c.find(".appstle_subscribe_selected_wrapper").show(),_.find(T).text(null==n?void 0:null===(d=n.selling_plan_allocation)||void 0===d?void 0:null===(u=d.selling_plan)||void 0===u?void 0:u.name)),_.find(T).hide(),_.find(".appstle_subscription_cart_wrapper").remove(),1===_.find(j).length?c.insertBefore(_.find(j)):c.insertBefore(_.find(x)),_.find(P).html(Y(n.final_price)),_.find(R).html(Y(n.final_line_price)),r&&n.selling_plan_allocation.compare_at_price){_.find(O).html("");var f='<span class="appstle_cart_sellingPlan_price">'.concat(Y(n.final_price),'</span><span  class="appstle_cart_compare_price">').concat(Y(n.selling_plan_allocation.compare_at_price),"</span>");_.find(O).html(f)}}jQuery(jQuery(C)[e]).find(j).addClass("appstleCartWidgetProcessed")}),jQuery(Q).html(Y(null==g?void 0:g.total_price)),jQuery("#appstle_overlay").remove()}0<(null==g?void 0:null===(e=g.items)||void 0===e?void 0:e.length)?((null==g?void 0:null===(n=g.items)||void 0===n?void 0:n.length)===jQuery(C).length?null==g||g.items.forEach(function(e){-1===o.indexOf(null==e?void 0:e.handle)&&o.push(null==e?void 0:e.handle)}):null!==(t=window)&&void 0!==t&&null!==(i=t.RS)&&void 0!==i&&null!==(l=i.Config)&&void 0!==l&&null!==(a=l.selectors)&&void 0!==a&&a.cartRowSelector&&null!=C&&C.length&&jQuery(C).length&&location.reload(),function n(){if(o.length){var e=o.shift();e?fetch("/products/".concat(e,".js")).then(function(e){return e.json()}).then(function(e){v.push(e),n()}):n()}else s(),document.dispatchEvent(new Event("AppstleSubscription:CartWidget:Updated")),window.dispatchEvent(new Event("AppstleSubscription:CartWidget:Updated"))}()):jQuery("#appstle_overlay").remove()})}if("/cart"===location.pathname){var I=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){var e=this.responseURL;console.log("origOpe.n -> url="+e),-1!==e.indexOf("cart/change.js")&&E!==JSON.stringify(this.response)&&(jQuery("#appstle_overlay").length||F(),setTimeout(D,100),E=JSON.stringify(this.response))}),I.apply(this,arguments)};var N=window.fetch;window.fetch=function(){var e=arguments,i=this;return new Promise(function(n,t){N.apply(i,e).then(function(e){-1!==e.url.indexOf("cart/change.js")&&(jQuery("#appstle_overlay").length||F(),setTimeout(D,100)),n(e)}).catch(function(e){t(response)})})},D(),S=null===(w=RSConfig)||void 0===w?void 0:w.css,jQuery("<style>\n                 .appstle-subsccribe-cart-discount{\n                       margin-left: 2px;\n                 }\n\n                .appstle_cart_radio_selected .appstle_cart_selling_plan_dropdown{\n                    display: block;\n                }\n            .appstle_cart_radio_selected {\n                  background-color: #eee;\n                 border-radius: 6px;\n            }\n            .appstle-cart-radio-label{\n              margin-left: 10px;\n            }\n            .appstle_subscription_cart_wrapper{\n              max-width: 100%;\n              justify-content: flex-start;\n              flex-direction: column;\n              font-size: 13px;\n            }\n              .appstle_cart_radio_label {\n                margin-left: 10px;\n                font-weight: bold;\n              }\n\n              .appstle_radio_section{\n              }\n              .appstle_subscribe_title {\n                      cursor: pointer;\n                      font-size: 13px;\n                      display: flex;\n                      align-items: center;\n                      line-height: 1.5;\n                      margin-bottom: 0.2rem;\n\n              }\n              .appstle_subscribe_title .appstle_highest_discount, .appstle_applied_sellingPlanName {\n                      border-bottom: 1px solid currentColor;\n              }\n\n              .appstle_subscribe_title input {\n                      margin-right: 5px;\n              }\n\n              .appstle_subscribe_selected {\n                      display: flex;\n                      align-items: center;\n                      margin-bottom: 0.2rem;\n\n              }\n\n              .appstle_subscribe_selected input {\n                      margin-right: 5px;\n              }\n\n              .appstle_selected_frequency  {\n                     display: inline;\n                     margin-bottom: 0.2rem;\n                     cursor: pointer;\n              }\n\n              .appstle_selected_frequency .appstle_applied_sellingPlanName {\n                       border-bottom: 1px solid currentColor;\n              }\n\n              .appstle_highest_discount, .appstle_applied_sellingPlanName {\n                      color: #198946;\n              }\n\n              #appstle_overlay {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 999999;\n  text-align: center;\n }\n\n.appstle_loader {\n  border: 6px solid rgba(255, 255, 255, 0.2);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-top: -36px;\n  margin-left: -36px;\n  border-top: 6px solid #fff;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: appstle_loading_spin 0.7s linear infinite; }\n\n  .appstle_loader_text {\n    position: absolute;\n    left: 50%;\n    top: calc(50% + 60px);\n    transform: translate(-50%, -50%);\n    color: white;\n  }\n\n  .appstle_subscribe_selected input[type=checkbox] {\n      height: inherit;\n  }\n\n  .appstle_cart_compare_price {\n    text-decoration: line-through;\n    font-size: 13px;\n    margin-left: 5px;\n    opacity: 0.85;\n  }\n  .appstle-loyalty-billing-cycle-count, .appstle-loyalty-discount-amount, .appstle-loyalty-free-trial-discount {\n    color: #198946;\n    font-weight: bold;\n  }\n\n\n@keyframes appstle_loading_spin {\n  0% {\n    transform: rotate(0deg); }\n\n  100% {\n    transform: rotate(360deg); } }\n\n@-webkit-keyframes spin {\n  0% {\n    transform: rotate(0deg); }\n\n  100% {\n    transform: rotate(360deg); } }\n\n              </style>\n          <style>".concat(null==S?void 0:S.customCSS,"</style>")).appendTo(jQuery("head")),function(){var e="";e=jQuery("main").attr("id")?jQuery("main").attr("id"):(jQuery("main").attr("id","appstleCustomId"),"appstleCustomId");var n=document.getElementById(e);new MutationObserver(function(){!jQuery(j+".appstleCartWidgetProcessed").length&&jQuery(C).length&&D()}).observe(n,{attributes:!0,childList:!0,subtree:!0})}()}function F(e){jQuery("#appstle_overlay").length||jQuery("body").append("<div id='appstle_overlay'><div class='appstle_loader'></div><div class='appstle_loader_text'>"+(e||" ")+"</div></div></div>")}function J(e,n,t,i,l,a,o){if(JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"]){var s={discount:n,discountType:t,formatDiscountedPrice:Y(100*n),freeProductName:a,isDiscountTypePercentage:"PERCENTAGE"===t,isDiscountTypeShipping:"SHIPPING"===t,isDiscountTypeFreeProduct:"FREE_PRODUCT"===t,isFreeTrial:i,isCartPage:!0,featured_image:o,billingCycleBlock:'<span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,"</span>")};return Mustache.render(JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"],s)}return i?'Get <span class="appstle-loyalty-free-trial-discount">'.concat(n,' <span class="appstle-loyalty-free-trial-discount-count" style="text-transform: lowercase;">').concat(t).concat(1<n?"s":"",'</span></span> <span class="appstle-loyalty-free-trial-text">free trial.</span>'):"PERCENTAGE"===t?l?'<span class="appstle-loyalty-discount">Get <span class="appstle-loyalty-discount-amount">'.concat(n+"% off",'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(n+"% off","</span></span>."):"SHIPPING"===t?l?'<span class="appstle-loyalty-discount">Get <span class="appstle-loyalty-discount-amount">'.concat("shipping at ".concat(Y(100*n)),'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">',e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">',"shipping at ".concat(Y(100*n)),"</span></span>."):"FREE_PRODUCT"===t?l?'<span class="appstle-loyalty-discount">Get a<span class="appstle-loyalty-discount-amount"> FREE PRODUCT ('.concat(a,')</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">FREE PRODUCT (').concat(a,")</span></span>."):"FIXED"===t?l?'<span class="appstle-loyalty-discount">Get <span class="appstle-loyalty-discount-amount">'.concat(Y(100*n)+" off",'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(Y(100*n)+" off","</span></span>."):void 0}function M(n,e){var t,i,l,a,y=null===(t=RSConfig)||void 0===t?void 0:null===(i=t.sellingPlansJson)||void 0===i?void 0:i.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(n)}),m="";(null!=y&&y.freeTrialEnabled&&(m=J(0,y.freeTrialCount,y.freeTrialInterval,null==y?void 0:y.freeTrialEnabled,!0)),null!=y&&y.afterCycle2&&(m=m+"".concat(null!=y&&y.freeTrialEnabled?" ":"")+J(W(y.afterCycle2),y.discountOffer2,y.discountType2,!1,!(null!=y&&y.freeTrialEnabled))),null==y||null===(l=y.appstleCycles)||void 0===l||!l.length||null!=y&&y.freeTrialEnabled)||(null==y||null===(a=y.appstleCycles)||void 0===a||a.forEach(function(n,e){var t="",i="";if("FREE_PRODUCT"===(null==n?void 0:n.discountType)){var l,a,o,s,p,r,c,d,u,_,f,g,v;if(t=null===(l=window)||void 0===l?void 0:null===(a=l.products)||void 0===a?void 0:null===(o=a[n.freeProductHandle])||void 0===o?void 0:o.title,1<(null===(s=window)||void 0===s?void 0:null===(p=s.products)||void 0===p?void 0:null===(r=p[null==n?void 0:n.freeProductHandle])||void 0===r?void 0:r.variants.length))t=t+" - "+(null===(v=(null===(_=window)||void 0===_?void 0:null===(f=_.products)||void 0===f?void 0:null===(g=f[null==n?void 0:n.freeProductHandle])||void 0===g?void 0:g.variants.filter(function(e){return(null==e?void 0:e.id)===parseInt(null==n?void 0:n.freeVariantId)})).pop())||void 0===v?void 0:v.title);i=null===(c=window)||void 0===c?void 0:null===(d=c.products)||void 0===d?void 0:null===(u=d[n.freeProductHandle])||void 0===u?void 0:u.featured_image}null!=y&&y.afterCycle2&&e<1?m=m+" "+J(W(n.afterCycle),n.value,n.discountType,!1,!1,t):null!=y&&y.afterCycle2||e<2&&(m=0==e?J(W(n.afterCycle),n.value,n.discountType,!1,!0,t,i):m+" "+J(W(n.afterCycle),n.value,n.discountType,!1,!1,t,i))}));e.find(".appstle_applied_discountText").html(m)}function A(e,n,t,i,l){if(i){"appstle_unsubscribe"===i&&(l=!0),F();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:null==n?void 0:n.key,quantity:(null==n?void 0:n.quantity)||1,selling_plan:l?"":i})};fetch("/cart/change.js",a).then(function(e){return e.json()}).then(function(e){setTimeout(function(){D()},200)}).catch(function(e){return console.log(e)})}}})}()}),Shopify&&Shopify.checkout&&1<=Shopify.checkout.line_items.filter(function(e){return e.selling_plan_id}).length&&null!==(t=RS)&&void 0!==t&&null!==(i=t.Config)&&void 0!==i&&i.showCheckoutSubscriptionBtn){var o="/"+RS.Config.manageSubscriptionUrl,s=RS.Config.orderStatusManageSubscriptionDescription||"Continue to your account to view and manage your subscriptions.";Shopify.checkout&&Shopify.checkout.order_id?(console.log("orderId="+Shopify.checkout.order_id),fetch(location.origin+"/apps/subscriptions?action=customer_payment_token&order_id="+Shopify.checkout.order_id).then(function(e){return e.json()}).then(function(e){o=o+"?token="+e.token,Shopify.Checkout.OrderStatus.addContentBox('<h2 class="heading-2 os-step__title">'+(RS.Config.orderStatusManageSubscriptionTitle||"Subscription")+'</h2><div class="os-step__info--item"><p class="os-step__description" style="margin-top: 0.5714285714em;">'+s+'</p></div><a class="ui-button btn btn--subdued btn--size-small shown-if-js os-step__info" href="'+o+'"> '+(RS.Config.orderStatusManageSubscriptionButtonText||"Manage your subscription")+"</a>")})):Shopify.Checkout.OrderStatus.addContentBox('<h2 class="heading-2 os-step__title">'+(RS.Config.orderStatusManageSubscriptionTitle||"Subscription")+'</h2><div class="os-step__info--item"><p class="os-step__description" style="margin-top: 0.5714285714em;">'+s+'</p></div><a class="ui-button btn btn--subdued btn--size-small shown-if-js os-step__info" href="'+o+'"> '+(RS.Config.orderStatusManageSubscriptionButtonText||"Manage your subscription")+"</a>")}};appstleInit();